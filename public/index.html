<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Seu Guia para o Filme Perfeito</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Poppins:wght@700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./style.css">
</head>
<body class="bg-slate-900 text-slate-400 font-sans antialiased min-h-screen">

  <header class="bg-slate-900 shadow-xl p-4 md:p-6 sticky top-0 z-50">
    <div class="container mx-auto flex flex-col md:flex-row justify-between items-center">
      <h1 class="text-3xl font-display font-bold text-white mb-4 md:mb-0">
        <a href="index.html" class="hover:text-amber-400 transition-colors">Guia de Filmes</a>
      </h1>
      <div class="flex items-center space-x-4">
        <button id="open-login-btn" class="text-white hover:text-amber-400 transition-colors hidden md:block">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
        </button>
        <button id="open-roulette-btn" class="bg-amber-500 text-slate-900 font-bold py-2 px-4 rounded-full shadow-lg hover:bg-amber-400 transition-colors flex items-center gap-2">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-shuffle"><path d="M2 17h4a3 3 0 0 0 3-3V7a4 4 0 0 1 4-4h4"/><path d="M22 17h-4a3 3 0 0 0-3-3v-1a4 4 0 0 0-4-4H3"/><path d="m14 17 6 6m0-6-6 6"/></svg>
          <span class="hidden md:inline">Roleta do Filme</span>
        </button>
      </div>
    </div>
  </header>

  <main class="container mx-auto px-4 md:px-0 mt-8">

    <section id="filters" class="flex flex-col md:flex-row items-center justify-center space-y-4 md:space-y-0 md:space-x-4 p-4 bg-slate-800 rounded-xl shadow-lg">
      <div class="flex-1 w-full">
        <label for="genre-select" class="block text-sm font-medium text-slate-400 mb-1">Gênero:</label>
        <select id="genre-select" class="w-full bg-slate-700 border-none rounded-lg text-slate-200 p-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-colors">
          <option value="">Todos</option>
        </select>
      </div>
      <div class="flex-1 w-full">
        <label for="year-select" class="block text-sm font-medium text-slate-400 mb-1">Ano:</label>
        <select id="year-select" class="w-full bg-slate-700 border-none rounded-lg text-slate-200 p-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-colors">
          <option value="">Qualquer</option>
        </select>
      </div>
      <div class="flex-1 w-full">
        <label for="rating-select" class="block text-sm font-medium text-slate-400 mb-1">Classificação Indicativa:</label>
        <select id="rating-select" class="w-full bg-slate-700 border-none rounded-lg text-slate-200 p-2 focus:ring-2 focus:ring-amber-500 focus:outline-none transition-colors">
          <option value="">Qualquer</option>
        </select>
      </div>
      <button id="apply-filters-btn" class="w-full md:w-auto bg-amber-500 text-slate-900 font-bold py-2 px-6 rounded-lg shadow-lg hover:bg-amber-400 transition-colors">Aplicar</button>
    </section>

    <section class="mt-12">
      <h2 class="text-3xl font-display font-bold text-white mb-6 text-center">Lançamentos Recentes</h2>
      <div class="relative group">
        <div id="now-playing-carousel-track" class="carousel-track flex-nowrap gap-4 py-4 scroll-smooth">
          <div class="text-center text-slate-500">
            <svg class="animate-spin-fast h-10 w-10 text-amber-500 mx-auto" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg>
            <p>Carregando filmes...</p>
          </div>
        </div>
        <button id="now-playing-prev-btn" class="absolute top-1/2 left-0 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity z-10 -translate-x-full group-hover:translate-x-0">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-left"><path d="m15 18-6-6 6-6"/></svg>
        </button>
        <button id="now-playing-next-btn" class="absolute top-1/2 right-0 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity z-10 translate-x-full group-hover:translate-x-0">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right"><path d="m9 18 6-6-6-6"/></svg>
        </button>
      </div>
    </section>

    <section class="mt-12">
      <h2 class="text-3xl font-display font-bold text-white mb-6 text-center">Próximos Lançamentos</h2>
      <div class="relative group">
        <div id="upcoming-carousel-track" class="carousel-track flex-nowrap gap-4 py-4 scroll-smooth">
          <div class="text-center text-slate-500">
            <svg class="animate-spin-fast h-10 w-10 text-amber-500 mx-auto" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg>
            <p>Carregando filmes...</p>
          </div>
        </div>
        <button id="upcoming-prev-btn" class="absolute top-1/2 left-0 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity z-10 -translate-x-full group-hover:translate-x-0">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-left"><path d="m15 18-6-6 6-6"/></svg>
        </button>
        <button id="upcoming-next-btn" class="absolute top-1/2 right-0 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity z-10 translate-x-full group-hover:translate-x-0">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right"><path d="m9 18 6-6-6-6"/></svg>
        </button>
      </div>
    </section>

    <section class="movies-section">
      <h2 id="movie-list-title" class="section-title">
        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-film"><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M7 3v18"/><path d="M3 7.5h18"/><path d="M3 12h18"/><path d="M3 16.5h18"/></svg>
        Filmes Populares
      </h2>
      <div id="movie-list" class="movies-grid">
        <div class="text-center text-slate-500 col-span-full">
          <svg class="animate-spin-fast h-12 w-12 text-amber-500 mx-auto" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
          </svg>
          <p>Carregando filmes...</p>
        </div>
      </div>
      <div id="loading" class="text-center py-8 hidden">
        <svg class="animate-spin h-10 w-10 text-amber-500 mx-auto" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
        </svg>
        <p class="text-slate-500 mt-2">Carregando mais filmes...</p>
      </div>
    </section>

  </main>

  <div id="movie-detail-modal" class="fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center p-4 z-50 hidden transition-all duration-300 ease-in-out">
    <div class="bg-slate-800 rounded-xl shadow-2xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto relative transform scale-95 opacity-0 transition-all duration-300 ease-in-out">
      <button id="close-modal-btn" class="absolute top-3 right-3 text-slate-400 hover:text-white transition-colors" aria-label="Fechar">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
      </button>
      <div id="modal-body" class="text-slate-300">
        <p class="text-center">Carregando detalhes do filme...</p>
      </div>
    </div>
  </div>

  <div id="login-modal" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50 hidden">
    <div class="bg-slate-800 rounded-xl shadow-2xl p-8 w-full max-w-sm relative">
      <button id="close-login-modal-btn" class="absolute top-3 right-3 text-slate-400 hover:text-white transition-colors" aria-label="Fechar">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
      </button>
      <h3 class="text-2xl font-bold text-white mb-6 text-center">Configurações de PIN</h3>
      <form id="login-form">
        <div class="mb-4">
          <label for="current-pin" class="block text-sm font-medium text-slate-400 mb-1">PIN Atual (ou padrão '0000'):</label>
          <input type="password" id="current-pin" class="block w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-white" maxlength="8">
        </div>
        <div class="mb-4">
          <label for="new-pin" class="block text-sm font-medium text-slate-400 mb-1">Novo PIN (deixe em branco para não alterar):</label>
          <input type="password" id="new-pin" class="block w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-white" maxlength="8">
        </div>
        <div class="mb-6">
          <label for="confirm-new-pin" class="block text-sm font-medium text-slate-400 mb-1">Confirmar Novo PIN:</label>
          <input type="password" id="confirm-new-pin" class="block w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-white" maxlength="8">
        </div>
        <button type="submit" class="w-full bg-amber-500 text-slate-900 font-bold py-2 px-4 rounded-md shadow-lg hover:bg-amber-400 transition-colors">Salvar PIN</button>
      </form>
      <div class="login-info text-center mt-6 p-4 bg-slate-700 rounded-md">
        <p class="text-sm text-slate-400">O PIN padrão é '0000'.</p>
        <p class="text-sm text-slate-400">Filmes com classificação +18 serão bloqueados por este PIN.</p>
      </div>
    </div>
  </div>

  <div id="message-modal" class="fixed bottom-4 left-1/2 -translate-x-1/2 z-50 hidden transition-all duration-300 ease-in-out transform opacity-0 scale-95">
    <div class="bg-green-600 text-white rounded-lg shadow-xl p-4 mt-16 w-full max-w-sm relative flex items-center justify-between">
      <span id="message-text" class="font-semibold"></span>
      <button id="close-message-btn" class="ml-4 text-white hover:text-gray-200" aria-label="Fechar mensagem">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
      </button>
    </div>
  </div>

  <footer class="bg-slate-900 text-slate-400 text-center p-4 mt-8 shadow-inner">
    <div class="container mx-auto">
      <p>&copy; 2023 Seu Guia de Filmes. Todos os direitos reservados.</p>
      <p class="text-sm mt-2">Este produto usa a API do TMDb, mas não é endossado ou certificado pelo TMDb.</p>
      <a href="https://www.themoviedb.org/" target="_blank" rel="noopener noreferrer" class="inline-block mt-2">
        <img src="https://www.themoviedb.org/assets/2/v4/logos/v2/blue_square_2-d537fb228d5f1e28526d6658f3fdb850efdb0ab104f2a8ba3df65ab787b6586a.svg" alt="The Movie Database (TMDb)" class="h-8">
      </a>
    </div>
  </footer>

  <script src="./script.js"></script>
  <script>
    // Lucide Icons replacement
    lucide.createIcons();
  </script>
</body>
</html>